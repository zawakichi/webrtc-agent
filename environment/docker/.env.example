# WebRTC Agent 環境変数設定例
# このファイルを .env にコピーして使用してください
# cp .env.example .env

# ===========================================
# アプリケーション基本設定
# ===========================================
APP_NAME=webrtc-agent
APP_VERSION=0.1.0
APP_ENV=development

# ===========================================
# ポート設定
# ===========================================
# フロントエンド
FRONTEND_PORT=3000
FRONTEND_HMR_PORT=3001

# バックエンド
BACKEND_PORT=3001
BACKEND_DEBUG_PORT=8080

# ドキュメント
DOCS_PORT=8000

# リバースプロキシ
NGINX_PORT=80
NGINX_SSL_PORT=443

# データベース
MYSQL_PORT=3306

# Redis
REDIS_PORT=6379

# ===========================================
# データベース設定
# ===========================================
# MySQL
MYSQL_ROOT_PASSWORD=root_password_change_me
MYSQL_DATABASE=webrtc_agent_dev
MYSQL_USER=webrtc_user
MYSQL_PASSWORD=webrtc_pass_change_me

# データベース接続URL（バックエンド用）
DATABASE_URL=mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@mysql:${MYSQL_PORT}/${MYSQL_DATABASE}?parseTime=true

# ===========================================
# Redis設定
# ===========================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# OpenAI設定
# ===========================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-realtime-preview-2024-10-01
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# ===========================================
# Google Meet / Google Cloud設定
# ===========================================
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_REDIRECT_URI=http://localhost/auth/google/callback

# Google Cloud Project
GOOGLE_PROJECT_ID=your_project_id_here

# ===========================================
# WebRTC設定
# ===========================================
# STUN/TURNサーバー
WEBRTC_STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
WEBRTC_TURN_SERVERS=
WEBRTC_TURN_USERNAME=
WEBRTC_TURN_PASSWORD=

# WebRTC接続設定
WEBRTC_ICE_TIMEOUT=30000
WEBRTC_CONNECTION_TIMEOUT=60000

# ===========================================
# セキュリティ設定
# ===========================================
# JWT設定
JWT_SECRET=your_jwt_secret_change_me_in_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# セッション設定
SESSION_SECRET=your_session_secret_change_me_in_production
SESSION_MAX_AGE=86400000

# CORS設定
CORS_ORIGIN=http://localhost,http://docs.localhost
CORS_CREDENTIALS=true

# ===========================================
# ログ設定
# ===========================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ファイルログ（オプション）
LOG_FILE_ENABLED=false
LOG_FILE_PATH=/app/logs/app.log
LOG_FILE_MAX_SIZE=10
LOG_FILE_MAX_BACKUPS=5
LOG_FILE_MAX_AGE=30

# ===========================================
# 開発環境固有設定
# ===========================================
# ホットリロード
HOT_RELOAD_ENABLED=true

# デバッグモード
DEBUG_ENABLED=true
DEBUG_PORT=${BACKEND_DEBUG_PORT}

# プロファイリング
PROFILING_ENABLED=false
PROFILING_PORT=6060

# ===========================================
# テスト環境設定
# ===========================================
# テスト用データベース
TEST_DATABASE_URL=mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@mysql:${MYSQL_PORT}/webrtc_agent_test?parseTime=true

# テスト用Redis
TEST_REDIS_URL=redis://redis:6379/1

# E2Eテスト設定
E2E_BASE_URL=http://localhost
E2E_TIMEOUT=30000
E2E_HEADLESS=true

# ===========================================
# Docker固有設定
# ===========================================
# ネットワーク
DOCKER_NETWORK=webrtc-dev

# ボリューム
MYSQL_DATA_VOLUME=mysql_data
REDIS_DATA_VOLUME=redis_data

# ===========================================
# パフォーマンス設定
# ===========================================
# Go設定
GOMAXPROCS=0
GOMEMLIMIT=512MiB

# Node.js設定
NODE_OPTIONS=--max-old-space-size=2048

# ===========================================
# 監視・ヘルスチェック設定
# ===========================================
# ヘルスチェック間隔
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=3s
HEALTH_CHECK_RETRIES=3

# メトリクス
METRICS_ENABLED=false
METRICS_PORT=9090

# ===========================================
# 外部サービス設定
# ===========================================
# Webhook設定（将来の拡張用）
WEBHOOK_URL=
WEBHOOK_SECRET=

# 通知設定（将来の拡張用）
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# ===========================================
# 本番環境用設定（development時は無視）
# ===========================================
# SSL証明書
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# バックアップ設定
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# スケーリング設定
REPLICA_COUNT=1
MAX_CONNECTIONS=1000